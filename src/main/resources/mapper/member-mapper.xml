<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.iei.member.model.dao.MemberDao">
	<select id="check" resultType="int">
		select count(*) from member_tbl where 
		<if test="memberId != null">
		member_id=#{memberId}
		</if>
		<if test="memberId == null">
		member_email=#{memberEmail}
		</if>
	</select>
	<insert id="insertMember">
		insert into member_tbl values
		(member_seq.nextval,#{memberId},#{memberPw},#{memberName},
		#{memberPhone},#{memberEmail},#{memberBirth},#{memberAddr1},
		#{memberAddr2},#{memberAddr3},sysdate,2,null)
	</insert>
	<select id="selecetOneMember" resultType="member">
	select 
		member_id,
		member_name,
		member_phone,
		member_email,
		member_birth,
		member_addr1,
		member_addr2,
		member_addr3
	from member_tbl where member_id=#{memberId}
	</select>
	<select id="searchId" resultType="member">
	select member_id from member_tbl where member_name=#{memberName} and member_phone=#{memberPhone} and member_email=#{memberEmail}
	</select>
	<select id="searchMember" resultType="int">
	select count(*) from member_tbl where member_id=#{memberId} and member_phone=#{memberPhone} and member_email=#{memberEmail}
	</select>
	<update id="updatePw">
	update member_tbl set member_pw=#{memberPw} where member_id=#{memberId}
	</update>
</mapper>
